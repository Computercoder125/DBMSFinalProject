<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutors List</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="font-family:arial">

    <h2>Tutors War List</h2>

    <!-- Add a section to display tutors -->
    <div id="tutors-container"></div>

    <script>
        // Fetch data from the tutors API and display it
        fetch('http://localhost:3000/tutors')
            .then(response => response.json())
            .then(data => {
                const tutorsContainer = document.getElementById('tutors-container');
                const tutors = data.tutors;

                // Check if there are tutors to display
                if (tutors && tutors.length > 0) {
                    let tutorsHtml = "<table border='1'><thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Subject</th><th>Signup Date</th><th>Status</th></tr></thead><tbody>";
                    tutors.forEach(tutor => {
                        tutorsHtml += `
                            <tr>
                                <td>${tutor.tutor_id}</td>
                                <td>${tutor.name}</td>
                                <td>${tutor.email}</td>
                                <td>${tutor.subject_specialization}</td>
                                <td>${tutor.signup_date}</td>
                                <td>${tutor.status}</td>
                                <td><button onclick="pickTutor(${tutor.tutor_id})">View Tutor</button></td>
                            </tr>
                        `;
                    });
                    tutorsHtml += "</tbody></table>";
                    tutorsContainer.innerHTML = tutorsHtml;
                } else {
                    tutorsContainer.innerHTML = "<p>No tutors available.</p>";
                }
            })
            .catch(error => {
                console.error('Error fetching tutors:', error);
                document.getElementById('tutors-container').innerHTML = "<p>Error fetching tutors data.</p>";
            });
    </script>
    <div class="container" style="background-color:#f1f1f1">
        <!-- Cancel button with an onclick event to redirect to the main page -->
        <button type="button" class="cancelbtn" onclick="goBackToMainPage()">Cancel</button>
        <span class="psw">Forgot <a href="#">password?</a></span>
      </div>

      <script>
        // Function to redirect the user back to the main page when cancel button is clicked
        function goBackToMainPage() {
          window.location.href = "/main";  // Redirect to the main page (adjust the URL as needed)
        }
      </script>

</body>
</html>
